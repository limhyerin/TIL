# â˜€ï¸ 2023.12.23 Today I Learned â˜€ï¸
>01 ë°ì´í„°ë² ì´ìŠ¤ ê°œë… <br/>
02 firebase ì‚¬ìš© <br/>

<br/>

## ğŸ’¡ì˜¤ëŠ˜ì˜ ëª©í‘œğŸ’¡
ë°ì´í„°ë² ì´ìŠ¤ ê°œë…ì„ í™•ì‹¤íˆ í•˜ê³  Firebase ì‚¬ìš©í•´ë³´ê¸°

<br/>

## ğŸ“–ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ğŸ“–
### 01 ë°ì´í„°ë² ì´ìŠ¤ ê°œë…
#### 1) ë°ì´í„°ë² ì´ìŠ¤
ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì—¬ëŸ¬ ì‚¬ëŒë“¤ì´ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ì˜ ëª¨ìŒ

<br/>

#### 2) ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
SQL, ì •ë¦¬ëœ ì •ë³´ë¥¼ ë‹¤ë£°ë•Œ ì‚¬ìš©, ì£¼ë¡œ ì€í–‰, ëŒ€ê¸°ì—… ë“±ì—ì„œ ì‚¬ìš©
ì£¼ì–´ì§„ í‹€ì´ ìˆëŠ” ê²½ìš°, ì‚¬ëŒì˜ ì‹¤ìˆ˜ê°€ ìˆìœ¼ë©´ ì•ˆë˜ëŠ” ê²½ìš°

<br/>

#### 3) ë¹„ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
NoSQL, ë³µì¡í•˜ê±°ë‚˜ ìœ ì—°í•œ ì •ë³´ë¥¼ ë‹¤ë£°ë•Œ ì‚¬ìš©, ì£¼ë¡œ ìŠ¤íƒ€íŠ¸ì—… ë“±ì—ì„œ ì‚¬ìš©
ììœ ë¡œìš´ ê²½ìš°, ì•ìœ¼ë¡œ ë” ë°”ë€” ê²½ìš°ê°€ ìˆì„ ê²½ìš°

<br/>
 
### 02 Firebase ì‚¬ìš©
FirestoreëŠ” êµ¬ê¸€ í´ë¼ìš°ë“œ ê¸°ë°˜ NoSQL ë°ì´í„° ë² ì´ìŠ¤ì´ë‹¤ <br/>
![image](https://github.com/limhyerin/TIL/assets/70150896/34d77823-5614-470d-a0e9-0b39026ecea7)

<br/>
 
ë¨¼ì € scriptì— type ì¶”ê°€í•˜ê³ 
```html
<script type="module">
```
ê·¸ë‹¤ìŒ íŒŒì´ì–´ ë² ì´ìŠ¤ ì„¸íŒ… ì½”ë“œë¥¼ scriptì•ˆì— ì¶”ê°€í•˜ê³  firebase êµ¬ì„±ì •ë³´ ì„¤ì • ë¶€ë¶„ì„ ëª¨ë‘ ì§€ì›Œì„œ ìì‹ ì˜ ì„¤ì • ë‚´ìš©ìœ¼ë¡œ ì±„ìš´ë‹¤.
```js
// Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


// Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
const firebaseConfig = {
	ë³¸ì¸ ì„¤ì • ë‚´ìš© ì±„ìš°ê¸° 
};


// Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
```

í”„ë¡œì íŠ¸ ì„¤ì • - SDKì„¤ì • ë° êµ¬ì„± - êµ¬ì„± ì½”ë“œ ë³µì‚¬í•´ì„œ ìœ„ì˜ ì½”ë“œì˜ 'ë³¸ì¸ ì„¤ì • ë‚´ìš© ì±„ìš°ê¸°' ë¶€ë¶„ì— ì±„ì›Œë„£ëŠ”ë‹¤. <br/>

![image](https://github.com/limhyerin/TIL/assets/70150896/53780261-0be8-4bd1-a27e-b6c0b70520f1)
![image](https://github.com/limhyerin/TIL/assets/70150896/f6e2f1d6-db12-4038-b39c-03099deec84b)

<br/>

#### ë°ì´í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ì½”ë“œ
```js
$("#id").click(async function () {
    let doc = {};
    await addDoc(collection(db, "ì½œë ‰ì…˜ì´ë¦„"), doc);
})
``` 

ê·¼ë° ì´ë ‡ê²Œ í•˜ë©´ ì´ì œ onclickì´ ì•ˆëœë‹¤. ê·¸ë˜ì„œ onclickì„ ì—†ì• ê³  idê°’ì„ ì¤˜ì„œ ì•„ë˜ì™€ ê°™ì´ ë°”ê¾¸ì–´ì¤€ë‹¤. <br/>
ê°ê° íŒŒì´ì–´ë² ì´ìŠ¤ì— ê°’ì„ ë³´ë‚´ëŠ” ê²ƒ <br/>
```js
$("#postingbtn").click(async function () {
        let image = $("#image").val();
        let title = $("#title").val();
        let content = $("#content").val();
        let date = $("#date").val();

        let doc = {
          image: image,
          title: title,
          content: content,
          date: date,
        };
        await addDoc(collection(db, "albums"), doc);
        alert("ì €ì¥ ì™„ë£Œ!");
        window.location.reload(); //ìƒˆë¡œê³ ì¹¨
      });
```
<br/>

ë²„íŠ¼ í´ë¦­ì‹œ ì ‘ì—ˆë‹¤ í´ëŠ” ê¸°ëŠ¥ë„, $(document).ready(function() {}) ê¸°ëŠ¥ë„ ì˜ë¯¸ê°€ ì—†ì–´ì ¸ì„œ ë‹¤ë¥¸ ê²ƒì„ í•  í•„ìš”ëŠ” ì—†ê³  ê·¸ ì•ˆì— ìˆëŠ” ì½”ë“œë“¤ì€ ë‹¤ ë¹¼ë†“ìœ¼ë©´ ëœë‹¤.
```js
$("#savebtn").click(async function () {
        $("#postingbox").toggle(); //ë‚˜ì™€ìˆìœ¼ë©´ êº¼ì§€ê³  ì¼œì ¸ìˆìœ¼ë©´ êº¼ì§€ê³ 
      });
``` 

<br/>

#### íŒŒì´ì–´ë² ì´ìŠ¤ì—ì„œ ê°’ì„ ê°€ì ¸ì™€ì„œ ë¶™ì´ëŠ” ì½”ë“œ
```js
let docs = await getDocs(collection(db, "albums"));
      docs.forEach((doc) => {
        let row = doc.data();

        let image = row['image'];
        let title = row['title'];
        let content = row['content'];
        let date = row['date'];

        let temp_html = `
              <div class="col">
                <div class="card h-100">
                  <img
                    src="${image}"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">${title}</h5>
                    <p class="card-text">${content}</p>
                  </div>
                  <div class="card-footer">
                    <small class="text-body-secondary">${date}</small>
                  </div>
                </div>
              </div>`;

        $("#card").append(temp_html);
      });
```
<br/>

## ğŸ§¸ì½”ë©˜íŠ¸ğŸ§¸
ë‹¤ì‹œ ê¹Œë¨¹ì„ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ì•„ì„œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì„œ ë‹¤ì‹œ ì ìš©í•´ë´ì•¼ê² ë‹¤
